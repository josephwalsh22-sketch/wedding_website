"use strict";(self.webpackChunkwedding_website=self.webpackChunkwedding_website||[]).push([[261],{309:(e,t,s)=>{s.r(t),s.d(t,{default:()=>m});var a=s(555),l=s(43),i=s(759);const n=s.p+"static/media/wagging-finger.a70e128d92390a1e1fca.gif",r=s.p+"static/media/loading.dcb76c393e17926d9279.gif";var o=s(477),d=s(717),c=s(579);const m=()=>{const{language:e}=(0,o.o)(),t=d.P[e].rsvp,[s,m]=(0,l.useState)({yourName:"",attending:"yes",babies:"0",childrenUnder10:"0",namesAttending:"",dietaryRestrictions:"",foodAllergies:"",message:""}),[u,g]=(0,l.useState)(""),[h,p]=(0,l.useState)([]),[N,b]=(0,l.useState)([]),[j,y]=(0,l.useState)([]),[x,v]=(0,l.useState)([]),[f,C]=(0,l.useState)([]),[A,S]=(0,l.useState)(!1),[k,w]=(0,l.useState)(!1),[F,T]=(0,l.useState)(!1),[P,R]=(0,l.useState)(!0),[Y,q]=(0,l.useState)(""),B=e=>{const{name:t,value:l}=e.target;if("yourName"===t&&!l.trim())return m(e=>(0,a.A)((0,a.A)({},e),{},{yourName:l,attending:"yes"})),void(u&&g(""));if("attending"===t&&"no"===l){const e=[s.yourName,...h].some(e=>e&&(e=>{const t=e.toLowerCase().trim();return["joe schuldt","joseph schuldt","joe","jimmy mac"].some(e=>t===e)})(e));if(e)return void S(!0);p([]),b([]),y([])}m(e=>(0,a.A)((0,a.A)({},e),{},{[t]:l})),u&&g("")},G=(e,t,s)=>{const a=[...x];a[e][t]=s,v(a)},V=(e,t,s)=>{const a=[...f];a[e][t]=s,C(a)},K=()=>{const e=[];return s.yourName.trim()&&e.push(s.yourName),e.push(...h.filter(e=>""!==e.trim())),e};return(0,c.jsxs)("div",{className:"rsvp-page",children:[(0,c.jsx)("div",{className:"page-header",style:{backgroundImage:"url(".concat(i,")")},children:(0,c.jsxs)("div",{className:"header-overlay",children:[(0,c.jsx)("h1",{children:t.title}),(0,c.jsx)("p",{className:"header-subtitle",children:t.subtitle})]})}),(0,c.jsx)("section",{className:"rsvp-section",children:(0,c.jsxs)("div",{className:"container",children:[k&&(0,c.jsx)("div",{className:"rsvp-loading",children:(0,c.jsx)("img",{src:r,alt:"Loading...",className:"loading-gif"})}),F&&!k&&(0,c.jsxs)("div",{className:"rsvp-success",children:[(0,c.jsxs)("p",{className:"greeting",children:[t.dearGuest," ",Y,","]}),(0,c.jsxs)("p",{className:"message-body",children:[P&&t.thankYouAttending,!P&&t.thankYouNotAttending]}),P&&(0,c.jsx)("p",{className:"look-forward",children:t.lookForwardTo}),(0,c.jsx)("p",{className:"closing",children:t.withLove}),(0,c.jsx)("p",{className:"signature",children:t.coupleNames})]}),!k&&!F&&(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)("p",{className:"rsvp-intro",children:t.intro}),u&&(0,c.jsxs)("div",{className:"validation-error",children:[(0,c.jsx)("span",{className:"error-icon",children:"\u26a0\ufe0f"}),(0,c.jsx)("p",{children:u})]}),(0,c.jsxs)("form",{className:"rsvp-form",onSubmit:e=>{e.preventDefault(),console.log("Form submitted with data:",s),g("");const a={attending:"yes"===s.attending?"Yes":"No",guests:[s.yourName,...h.filter(e=>""!==e.trim())].map(e=>{const t=N.includes(e),s=j.includes(e),a=x.find(t=>t.guestName===e&&"none"!==t.type),l=f.find(t=>t.guestName===e&&""!==t.allergy.trim());return{name:e,isBaby:t,isChild:s,dietaryRequirement:a?a.type:"None",foodAllergy:l?l.allergy:"None"}}),notAttending:[],message:s.message||"",confirmedBy:s.yourName};console.log("Submitting to Google Sheets:",a),w(!0),R("yes"===s.attending),q(s.yourName),fetch("https://script.google.com/macros/s/AKfycbxgndUPoXguQswjF6xxL2MKJdC6cr4AKKQF9nW0SDC_WYlKrviSbyOYYYaYS8lsR8NV/exec",{method:"POST",mode:"no-cors",headers:{"Content-Type":"application/json"},body:JSON.stringify(a)}).then(()=>{console.log("RSVP submitted successfully"),w(!1),T(!0),m({yourName:"",attending:"yes",babies:"0",childrenUnder10:"0",namesAttending:"",dietaryRestrictions:"",foodAllergies:"",message:""}),p([]),b([]),y([]),v([]),C([])}).catch(e=>{console.error("Error submitting RSVP:",e),w(!1),alert(t.errorMessage)})},children:[(0,c.jsxs)("div",{className:"form-group",children:[(0,c.jsxs)("label",{htmlFor:"yourName",children:[t.yourName," *",(0,c.jsx)("span",{className:"tooltip",title:t.yourNameTooltip,children:"\u2139\ufe0f"})]}),(0,c.jsx)("input",{type:"text",id:"yourName",name:"yourName",value:s.yourName,onChange:B,placeholder:t.yourNamePlaceholder,required:!0})]}),(0,c.jsxs)("div",{className:"form-group",children:[(0,c.jsxs)("label",{htmlFor:"attending",children:[t.willYouAttend," *",!s.yourName.trim()&&(0,c.jsx)("span",{className:"tooltip",title:t.pleaseEnterNameFirst,children:"\u2139\ufe0f"})]}),(0,c.jsxs)("select",{id:"attending",name:"attending",value:s.attending,onChange:B,disabled:!s.yourName.trim(),required:!0,children:[(0,c.jsx)("option",{value:"yes",children:t.yesAttending}),(0,c.jsx)("option",{value:"no",children:t.noAttending})]})]}),(0,c.jsxs)("div",{className:"form-group ".concat(s.yourName.trim()?"":"disabled"),children:[(0,c.jsxs)("label",{children:[t.otherGuestsAttending,(0,c.jsx)("span",{className:"tooltip",title:t.otherGuestsAttendingTooltip,children:"\u2139\ufe0f"})]}),(0,c.jsx)("div",{className:"guest-names-list",children:h.map((e,a)=>(0,c.jsxs)("div",{className:"not-attending-row",children:[(0,c.jsx)("input",{type:"text",value:e,onChange:e=>((e,t)=>{const s=h[e],a=[...h];a[e]=t,p(a),s&&""!==s.trim()&&(b(e=>e.filter(e=>e!==s)),y(e=>e.filter(e=>e!==s))),u&&g("")})(a,e.target.value),placeholder:"".concat(t.guestFullName," ").concat(a+1," ").concat(t.fullName),className:"guest-name-input",disabled:!s.yourName.trim()}),(0,c.jsx)("button",{type:"button",onClick:()=>(e=>{const t=h[e],s=h.filter((t,s)=>s!==e);p(s),t&&""!==t.trim()&&(b(e=>e.filter(e=>e!==t)),y(e=>e.filter(e=>e!==t)))})(a),className:"remove-not-attending-btn",disabled:!s.yourName.trim(),children:"\u2715"})]},a))}),(0,c.jsx)("button",{type:"button",onClick:()=>{p([...h,""])},className:"add-not-attending-btn",disabled:!s.yourName.trim(),children:t.addGuestAttending})]}),(0,c.jsxs)("div",{className:"form-group ".concat(h.filter(e=>""!==e.trim()).length<1?"disabled":""),children:[(0,c.jsxs)("label",{children:[t.attendingBabies,(0,c.jsx)("span",{className:"tooltip",title:t.attendingBabiesTooltip,children:"\u2139\ufe0f"})]}),N.map((e,s)=>(0,c.jsxs)("div",{className:"baby-row",children:[(0,c.jsxs)("select",{value:e,onChange:e=>((e,t)=>{const s=[...N];s[e]=t,b(s)})(s,e.target.value),className:"baby-select",disabled:h.filter(e=>""!==e.trim()).length<1,children:[(0,c.jsx)("option",{value:"",children:t.selectBaby}),K().map((s,a)=>(0,c.jsx)("option",{value:s,disabled:j.includes(s)||N.includes(s)&&e!==s,children:s||"".concat(t.guestFullName," ").concat(a+1)},a))]}),(0,c.jsx)("button",{type:"button",onClick:()=>(e=>{const t=N.filter((t,s)=>s!==e);b(t)})(s),className:"remove-baby-btn",disabled:h.filter(e=>""!==e.trim()).length<1,children:"\u2715"})]},s)),(0,c.jsx)("button",{type:"button",onClick:()=>{b([...N,""])},className:"add-baby-btn",disabled:h.filter(e=>""!==e.trim()).length<1,children:t.addBaby})]}),(0,c.jsxs)("div",{className:"form-group ".concat(h.filter(e=>""!==e.trim()).length<1?"disabled":""),children:[(0,c.jsxs)("label",{children:[t.attendingChildren,(0,c.jsx)("span",{className:"tooltip",title:t.attendingChildrenTooltip,children:"\u2139\ufe0f"})]}),j.map((e,s)=>(0,c.jsxs)("div",{className:"child-row",children:[(0,c.jsxs)("select",{value:e,onChange:e=>((e,t)=>{const s=[...j];s[e]=t,y(s)})(s,e.target.value),className:"child-select",disabled:h.filter(e=>""!==e.trim()).length<1,children:[(0,c.jsx)("option",{value:"",children:t.selectChild}),K().map((s,a)=>(0,c.jsx)("option",{value:s,disabled:N.includes(s)||j.includes(s)&&e!==s,children:s||"".concat(t.guestFullName," ").concat(a+1)},a))]}),(0,c.jsx)("button",{type:"button",onClick:()=>(e=>{const t=j.filter((t,s)=>s!==e);y(t)})(s),className:"remove-child-btn",disabled:h.filter(e=>""!==e.trim()).length<1,children:"\u2715"})]},s)),(0,c.jsx)("button",{type:"button",onClick:()=>{y([...j,""])},className:"add-child-btn",disabled:h.filter(e=>""!==e.trim()).length<1,children:t.addChild})]}),(0,c.jsxs)("div",{className:"form-group ".concat(s.yourName.trim()?"":"disabled"),children:[(0,c.jsxs)("label",{children:[t.dietaryRequirements,(0,c.jsx)("span",{className:"tooltip",title:t.dietaryRequirementsTooltip,children:"\u2139\ufe0f"})]}),x.map((e,a)=>(0,c.jsxs)("div",{className:"dietary-requirement-row",children:[(0,c.jsxs)("select",{value:e.type,onChange:e=>G(a,"type",e.target.value),className:"dietary-type-select",disabled:!s.yourName.trim(),children:[(0,c.jsx)("option",{value:"none",children:t.none}),(0,c.jsx)("option",{value:"Vegan",children:t.vegan}),(0,c.jsx)("option",{value:"Vegetarian",children:t.vegetarian})]}),(0,c.jsxs)("select",{value:e.guestName,onChange:e=>G(a,"guestName",e.target.value),className:"dietary-guest-select",disabled:"none"===e.type||!s.yourName.trim(),children:[(0,c.jsx)("option",{value:"",children:t.selectGuest}),K().map((e,s)=>(0,c.jsx)("option",{value:e,children:e||"".concat(t.guestFullName," ").concat(s+1)},s))]}),(0,c.jsx)("button",{type:"button",onClick:()=>(e=>{const t=x.filter((t,s)=>s!==e);v(t)})(a),className:"remove-dietary-btn",disabled:!s.yourName.trim(),children:"\u2715"})]},a)),(0,c.jsx)("button",{type:"button",onClick:()=>{v([...x,{type:"none",guestName:""}])},className:"add-dietary-btn",disabled:!s.yourName.trim(),children:t.addDietaryRequirement})]}),(0,c.jsxs)("div",{className:"form-group ".concat(s.yourName.trim()?"":"disabled"),children:[(0,c.jsxs)("label",{children:[t.foodAllergies,(0,c.jsx)("span",{className:"tooltip",title:t.foodAllergiesTooltip,children:"\u2139\ufe0f"})]}),f.map((e,a)=>(0,c.jsxs)("div",{className:"allergy-row",children:[(0,c.jsx)("input",{type:"text",value:e.allergy,onChange:e=>V(a,"allergy",e.target.value),placeholder:t.foodAllergiesPlaceholder,className:"allergy-input",disabled:!s.yourName.trim()}),(0,c.jsxs)("select",{value:e.guestName,onChange:e=>V(a,"guestName",e.target.value),className:"allergy-guest-select",disabled:!s.yourName.trim(),children:[(0,c.jsx)("option",{value:"",children:t.selectGuest}),K().map((e,s)=>(0,c.jsx)("option",{value:e,children:e||"".concat(t.guestFullName," ").concat(s+1)},s))]}),(0,c.jsx)("button",{type:"button",onClick:()=>(e=>{const t=f.filter((t,s)=>s!==e);C(t)})(a),className:"remove-allergy-btn",disabled:!s.yourName.trim(),children:"\u2715"})]},a)),(0,c.jsx)("button",{type:"button",onClick:()=>{C([...f,{allergy:"",guestName:""}])},className:"add-allergy-btn",disabled:!s.yourName.trim(),children:t.addFoodAllergy})]}),(0,c.jsxs)("div",{className:"form-group",children:[(0,c.jsxs)("label",{htmlFor:"message",children:[t.messageToCouple,(0,c.jsx)("span",{className:"tooltip",title:t.messageToCoupleTooltip,children:"\u2139\ufe0f"})]}),(0,c.jsx)("textarea",{id:"message",name:"message",value:s.message,onChange:B,rows:"4",placeholder:t.messagePlaceholder})]}),(0,c.jsx)("button",{type:"submit",className:"submit-btn",disabled:!(""!==s.yourName.trim()),children:t.submitRSVP})]})]})]})}),A&&(0,c.jsx)("div",{className:"joe-alert-overlay",onClick:()=>S(!1),children:(0,c.jsxs)("div",{className:"joe-alert-modal",onClick:e=>e.stopPropagation(),children:[(0,c.jsx)("img",{src:n,alt:"Wagging finger",className:"wagging-finger"}),(0,c.jsx)("h2",{children:t.joeAlertTitle}),(0,c.jsx)("p",{children:t.joeAlertMessage}),(0,c.jsx)("p",{children:t.joeAlertInsult}),(0,c.jsx)("button",{onClick:()=>S(!1),className:"joe-alert-btn",children:t.joeAlertButton})]})})]})}},759:(e,t,s)=>{e.exports=s.p+"static/media/villa-chairs-inside.61375aaaabc847fbc6b5.webp"}}]);
//# sourceMappingURL=261.d8492a80.chunk.js.map